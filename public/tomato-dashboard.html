<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>농산물 가격 비교 대시보드</title>
    <link rel="stylesheet" href="tomato-dashboard.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <header class="dashboard-header">
            <h1 id="dashboardTitle">🍅 토마토 가격 비교 대시보드</h1>
            <p>도매시장 vs 온라인몰 실시간 가격 비교</p>
            <div class="last-update">
                마지막 업데이트: <span id="lastUpdate">-</span>
            </div>
        </header>

        <!-- 품목 선택 드롭다운 -->
        <div class="product-selector">
            <label for="productSelect">품목 선택:</label>
            <select id="productSelect" class="product-dropdown">
                <option value="tomato">🍅 토마토</option>
                <option value="apple">🍎 사과</option>
                <option value="pear">🍐 배</option>
                <option value="grape">🍇 포도</option>
                <option value="strawberry">🍓 딸기</option>
                <option value="watermelon">🍉 수박</option>
                <option value="cucumber">🥒 오이</option>
                <option value="pepper">🌶️ 고추</option>
                <option value="cabbage">🥬 배추</option>
                <option value="onion">🧅 양파</option>
                <option value="potato">🥔 감자</option>
                <option value="garlic">🧄 마늘</option>
            </select>
        </div>

        <!-- 새로고침 버튼 & 일반 검색 -->
        <div class="control-panel">
            <button id="refreshBtn" class="refresh-btn">🔄 데이터 새로고침</button>
            <div class="search-section">
                <input type="text" id="searchInput" class="search-input" placeholder="일반 상품 검색 (예: 사과 1kg, 배추 1포기)">
                <button id="searchBtn" class="search-btn">🔍 검색</button>
            </div>
        </div>

        <!-- 로딩 표시 -->
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p>데이터 로딩 중...</p>
        </div>

        <!-- 에러 메시지 -->
        <div id="error" class="error" style="display: none;"></div>

        <!-- 검색 결과 섹션 -->
        <div id="searchResults" class="search-results" style="display: none;">
            <div class="search-header">
                <h2>🔍 <span id="searchQuery"></span> 검색 결과</h2>
                <button id="closeSearchBtn" class="close-search-btn">✕ 닫기</button>
            </div>
            <div id="searchResultsList" class="search-results-list">
                <!-- JavaScript로 채워짐 -->
            </div>
        </div>

        <!-- 메인 대시보드 -->
        <div id="dashboard" class="dashboard-content" style="display: none;">

            <!-- 섹션 1: 가격 비교 테이블 -->
            <section class="price-compare-section">
                <h2>📊 등급별 가격 비교 (1kg 기준)</h2>
                <div class="comparison-table-wrapper">
                    <table class="comparison-table" id="comparisonTable">
                        <thead>
                            <tr>
                                <th>등급</th>
                                <th>크기 기준</th>
                                <th>도매시장 가격</th>
                                <th>온라인 최저가</th>
                                <th>가격 차이</th>
                                <th>마진율</th>
                            </tr>
                        </thead>
                        <tbody id="comparisonBody">
                            <!-- JavaScript로 채워짐 -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- 섹션 2: 온라인몰 최저가 상세 -->
            <section class="online-detail-section">
                <h2>🛒 온라인몰 최저가 상세 (1kg 기준)</h2>
                <div class="online-summary" id="onlineSummary">
                    <!-- JavaScript로 채워짐 -->
                </div>

                <h3>상위 10개 판매처</h3>
                <div class="online-list" id="onlineList">
                    <!-- JavaScript로 채워짐 -->
                </div>
            </section>

            <!-- 섹션 3: 도매시장 가격 상세 -->
            <section class="wholesale-section">
                <h2>🏪 도매시장 가격 상세</h2>
                <div class="wholesale-cards" id="wholesaleCards">
                    <!-- JavaScript로 채워짐 -->
                </div>
            </section>

        </div>
    </div>

    <script src="tomato-dashboard.js"></script>
</body>
</html>
